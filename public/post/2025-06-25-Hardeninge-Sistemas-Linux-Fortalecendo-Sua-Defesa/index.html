<!DOCTYPE html>
<html lang="pt-BR">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <meta property="og:site_name" content="JPHS">
    <meta property="og:type" content="article">

    
    <meta property="og:image" content="http://localhost:1313//">
    <meta property="twitter:image" content="http://localhost:1313//" />
    

    
    <meta name="title" content="Hardening de Sistemas Linux: Fortalecendo Sua Defesa" />
    <meta property="og:title" content="Hardening de Sistemas Linux: Fortalecendo Sua Defesa" />
    <meta property="twitter:title" content="Hardening de Sistemas Linux: Fortalecendo Sua Defesa" />
    

    
    <meta name="description" content="">
    <meta property="og:description" content="" />
    <meta property="twitter:description" content="" />
    

    <meta property="og:url" content="http://localhost:1313/post/2025-06-25-Hardeninge-Sistemas-Linux-Fortalecendo-Sua-Defesa/" />

    
    <meta property="twitter:card" content="summary" />
    
    

    <meta name="keyword"  content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>Hardening de Sistemas Linux: Fortalecendo Sua Defesa | </title>

    <link rel="canonical" href="/post/2025-06-25-Hardeninge-Sistemas-Linux-Fortalecendo-Sua-Defesa/">

    

    
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    
    <link rel="stylesheet" href="/css/hugo-theme-cleanwhite.min.css">

    
    <link rel="stylesheet" href="/css/zanshang.min.css">

    
    <link rel="stylesheet" href="/css/font-awesome.all.min.css">

    
    
    
    

    
    <script src="/js/jquery.min.js"></script>

    
    <script src="/js/bootstrap.min.js"></script>

    
    <script src="/js/hux-blog.min.js"></script>

    
    <script src="/js/lazysizes.min.js"></script>

    
    

</head>





<nav class="navbar navbar-default navbar-custom navbar-fixed-top">

    <div class="container-fluid">
        
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">JPHS</a>
        </div>

        
        
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">All Posts</a>
                    </li>
                    
                        
                        <li>
                            <a href="/categories/administra%C3%A7%C3%A3o/">administra√ß√£o</a>
                        </li>
                        
                        <li>
                            <a href="/categories/administra%C3%A7%C3%A3o-de-sistemas/">administra√ß√£o de sistemas</a>
                        </li>
                        
                        <li>
                            <a href="/categories/c%C3%B3digo-aberto/">c√≥digo aberto</a>
                        </li>
                        
                        <li>
                            <a href="/categories/devops/">devops</a>
                        </li>
                        
                        <li>
                            <a href="/categories/linux/">linux</a>
                        </li>
                        
                        <li>
                            <a href="/categories/seguran%C3%A7a/">seguran√ßa</a>
                        </li>
                        
                        <li>
                            <a href="/categories/sistemas-operacionais/">sistemas operacionais</a>
                        </li>
                        
                        <li>
                            <a href="/categories/tecnologia/">tecnologia</a>
                        </li>
                        
                    
                    
		    
		            <li>
                        <a href="/search"><i class="fa fa-search"></i></a>
		           </li>
                </ul>
            </div>
        </div>
        
    </div>
    
</nav>
<script>
    
    
    
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    $toggle.addEventListener('click', handleMagic)
    function handleMagic(e){
        if ($navbar.className.indexOf('in') > 0) {
        
            $navbar.className = " ";
            
            setTimeout(function(){
                
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        }else{
        
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }
</script>




<style type="text/css">
    header.intro-header {
        background-image: url('/')
    }
</style>

<header class="intro-header" >

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                    </div>
                    <h1>Hardening de Sistemas Linux: Fortalecendo Sua Defesa</h1>
                    <h2 class="subheading"></h2>
                    <span class="meta">
                        
                            Posted by 
                            
                                    JPHS
                             
                            on 
                            Wednesday, June 25, 2025
                            
                            
                            
                            
                    </span>
                </div>
            </div>
        </div>
    </div>
</header>




<article>
    <div class="container">
        <div class="row">

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

                
                <h1 id="hardening-de-sistemas-linux-fortalecendo-sua-defesa">Hardening de Sistemas Linux: Fortalecendo Sua Defesa</h1>
<p>Hardening √© o processo de proteger sistemas Linux contra amea√ßas atrav√©s da redu√ß√£o da superf√≠cie de ataque e implementa√ß√£o de configura√ß√µes seguras. Em um mundo onde:</p>
<ul>
<li><strong>Ataques aumentam 38% ao ano</strong> (Fonte: Relat√≥rio IBM Security 2024)</li>
<li><strong>95% das viola√ß√µes</strong> exploram configura√ß√µes inadequadas</li>
<li><strong>Sistemas padr√£o</strong> t√™m +200 pontos vulner√°veis</li>
</ul>
<h2 id="princ√≠pios-fundamentais">Princ√≠pios Fundamentais</h2>
<ol>
<li><strong>M√≠nimo privil√©gio</strong>: Usu√°rios e servi√ßos s√≥ acessam o necess√°rio</li>
<li><strong>Defesa em profundidade</strong>: M√∫ltiplas camadas de seguran√ßa</li>
<li><strong>Falha segura</strong>: Bloqueios autom√°ticos em erros</li>
<li><strong>Auditoria cont√≠nua</strong>: Monitoramento proativo</li>
</ol>
<hr>
<h2 id="-configura√ß√µes-essenciais">üîß Configura√ß√µes Essenciais</h2>
<h3 id="1-atualiza√ß√µes-automatizadas">1. Atualiza√ß√µes Automatizadas</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Fedora/RHEL</span>
</span></span><span style="display:flex;"><span>sudo dnf install dnf-automatic
</span></span><span style="display:flex;"><span>sudo systemctl enable --now dnf-automatic.timer
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Debian/Ubuntu</span>
</span></span><span style="display:flex;"><span>sudo apt install unattended-upgrades
</span></span><span style="display:flex;"><span>sudo dpkg-reconfigure -plow unattended-upgrades
</span></span></code></pre></div><h3 id="2-controle-de-acesso">2. Controle de Acesso</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Bloquear logins root</span>
</span></span><span style="display:flex;"><span>sudo sed -i <span style="color:#e6db74">&#39;s/^PermitRootLogin.*/PermitRootLogin no/&#39;</span> /etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Limitar usu√°rios SSH</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;AllowUsers usuario_admin&#34;</span> | sudo tee -a /etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Tempo de inatividade</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;ClientAliveInterval 300&#34;</span> | sudo tee -a /etc/ssh/sshd_config
</span></span><span style="display:flex;"><span>sudo systemctl reload sshd
</span></span></code></pre></div><h3 id="3-firewall-restritivo-com-nftables">3. Firewall Restritivo com nftables</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/sbin/nft -f
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>flush ruleset
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>table inet firewall <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>    chain input <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        type filter hook input priority 0; policy drop;
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Conex√µes estabelecidas</span>
</span></span><span style="display:flex;"><span>        ct state established,related accept
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Loopback</span>
</span></span><span style="display:flex;"><span>        iifname <span style="color:#e6db74">&#34;lo&#34;</span> accept
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># ICMP (ping)</span>
</span></span><span style="display:flex;"><span>        ip protocol icmp accept
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># SSH</span>
</span></span><span style="display:flex;"><span>        tcp dport <span style="color:#ae81ff">22</span> accept comment <span style="color:#e6db74">&#34;SSH&#34;</span>
</span></span><span style="display:flex;"><span>        
</span></span><span style="display:flex;"><span>        <span style="color:#75715e"># Logging</span>
</span></span><span style="display:flex;"><span>        log prefix <span style="color:#e6db74">&#34;DROP: &#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    chain forward <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        type filter hook forward priority 0; policy drop;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span>    
</span></span><span style="display:flex;"><span>    chain output <span style="color:#f92672">{</span>
</span></span><span style="display:flex;"><span>        type filter hook output priority 0; policy accept;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">}</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">}</span>
</span></span></code></pre></div><p>Salve como <code>/etc/nftables.conf</code> e ative com:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo systemctl enable --now nftables
</span></span></code></pre></div><h3 id="4-prote√ß√£o-de-mem√≥ria">4. Prote√ß√£o de Mem√≥ria</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Prevenir buffer overflows</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;kernel.exec-shield = 1&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;kernel.randomize_va_space = 2&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Proteger contra ataques de nega√ß√£o de servi√ßo</span>
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;net.ipv4.tcp_syncookies = 1&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;net.ipv4.conf.all.rp_filter = 1&#34;</span> | sudo tee -a /etc/sysctl.conf
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Aplicar configura√ß√µes</span>
</span></span><span style="display:flex;"><span>sudo sysctl -p
</span></span></code></pre></div><h2 id="-ferramentas-de-seguran√ßa">üõ°Ô∏è Ferramentas de Seguran√ßa</h2>
<h3 id="1-selinux-vs-apparmor">1. SELinux vs AppArmor</h3>
<table>
  <thead>
      <tr>
          <th>Caracter√≠stica</th>
          <th>SELinux</th>
          <th>AppArmor</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Complexidade</td>
          <td>Alta</td>
          <td>Moderada</td>
      </tr>
      <tr>
          <td>Perfis pr√©-definidos</td>
          <td>+200</td>
          <td>+150</td>
      </tr>
      <tr>
          <td>Logs detalhados</td>
          <td>audit.log</td>
          <td>syslog</td>
      </tr>
      <tr>
          <td>Distros padr√£o</td>
          <td>RHEL, CentOS</td>
          <td>Ubuntu, Debian</td>
      </tr>
  </tbody>
</table>
<h3 id="ativa√ß√£o-selinux-enforcing">Ativa√ß√£o SELinux (Enforcing):</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>sudo setenforce <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>sudo sed -i <span style="color:#e6db74">&#39;s/SELINUX=.*/SELINUX=enforcing/&#39;</span> /etc/selinux/config
</span></span></code></pre></div><h3 id="2-fail2ban---prote√ß√£o-contra-bruteforce">2. Fail2Ban - Prote√ß√£o Contra Bruteforce</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instala√ß√£o</span>
</span></span><span style="display:flex;"><span>sudo apt install fail2ban
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Configura√ß√£o personalizada</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># /etc/fail2ban/jail.d/sshd.conf</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>sshd<span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span>enabled <span style="color:#f92672">=</span> true
</span></span><span style="display:flex;"><span>maxretry <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>bantime <span style="color:#f92672">=</span> 1h
</span></span><span style="display:flex;"><span>findtime <span style="color:#f92672">=</span> <span style="color:#ae81ff">600</span>
</span></span><span style="display:flex;"><span>ignoreip <span style="color:#f92672">=</span> 192.168.1.0/24
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Reiniciar servi√ßo</span>
</span></span><span style="display:flex;"><span>sudo systemctl restart fail2ban
</span></span></code></pre></div><h3 id="3-rkhunter---detec√ß√£o-de-rootkits">3. Rkhunter - Detec√ß√£o de Rootkits</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instalar e executar verifica√ß√µes</span>
</span></span><span style="display:flex;"><span>sudo dnf install rkhunter chkrootkit
</span></span><span style="display:flex;"><span>sudo rkhunter --update
</span></span><span style="display:flex;"><span>sudo rkhunter --check --sk
</span></span><span style="display:flex;"><span>sudo chkrootkit -q
</span></span></code></pre></div><h3 id="4criar-perfil-apparmor">4.Criar perfil AppArmor:</h3>
<p><code>sudo aa-genprof /caminho/do/app</code></p>
<h2 id="-automa√ß√£o-com-ferramentas-de-compliance">üìä Automa√ß√£o com Ferramentas de Compliance</h2>
<h3 id="1-lynis---auditoria-automatizada">1. Lynis - Auditoria Automatizada</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instala√ß√£o (Debian/Ubuntu)</span>
</span></span><span style="display:flex;"><span>curl -s https://packages.cisofy.com/keys/cisofy-software-public.key | sudo gpg --dearmor -o /usr/share/keyrings/cisofy-software-archive-keyring.gpg
</span></span><span style="display:flex;"><span>echo <span style="color:#e6db74">&#34;deb [signed-by=/usr/share/keyrings/cisofy-software-archive-keyring.gpg] https://packages.cisofy.com/community/lynis/deb/ stable main&#34;</span> | sudo tee /etc/apt/sources.list.d/cisofy-lynis.list
</span></span><span style="display:flex;"><span>sudo apt update <span style="color:#f92672">&amp;&amp;</span> sudo apt install -y lynis
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Execu√ß√£o (todos os sistemas)</span>
</span></span><span style="display:flex;"><span>sudo lynis audit system --no-colors --quick
</span></span></code></pre></div><h3 id="2-openscap---conformidade-com-padr√µes">2. OpenSCAP - Conformidade com Padr√µes</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instala√ß√£o (Ubuntu)</span>
</span></span><span style="display:flex;"><span>sudo apt install -y openscap-scanner scap-security-guide
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Instala√ß√£o (RHEL/CentOS)</span>
</span></span><span style="display:flex;"><span>sudo dnf install -y openscap-scanner scap-security-guide
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Verifica√ß√£o CIS (Ubuntu 22.04)</span>
</span></span><span style="display:flex;"><span>sudo oscap xccdf eval <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --profile xccdf_org.ssgproject.content_profile_cis <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --results scan-results.xml <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  --report report.html <span style="color:#ae81ff">\
</span></span></span><span style="display:flex;"><span><span style="color:#ae81ff"></span>  /usr/share/xml/scap/ssg/content/ssg-ubuntu2204-ds.xml
</span></span></code></pre></div><h3 id="3-cis-cat---benchmark-profissional">3. CIS-CAT - Benchmark Profissional</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Uso b√°sico (requer Java 11+)</span>
</span></span><span style="display:flex;"><span>./Assessor-CLI.sh -b -rs benchmark -u
</span></span></code></pre></div><h2 id="-verifica√ß√£o-de-seguran√ßa-r√°pida">‚ö†Ô∏è Verifica√ß√£o de Seguran√ßa R√°pida</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># SSH</span>
</span></span><span style="display:flex;"><span>sudo sshd -T | grep -E <span style="color:#e6db74">&#39;(permitrootlogin|passwordauthentication)&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Firewall</span>
</span></span><span style="display:flex;"><span>sudo ufw status verbose <span style="color:#f92672">||</span> sudo firewall-cmd --state
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># MAC (SELinux/AppArmor)</span>
</span></span><span style="display:flex;"><span>sudo selinuxenabled <span style="color:#f92672">&amp;&amp;</span> sudo sestatus <span style="color:#f92672">||</span> sudo aa-status
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Fail2Ban</span>
</span></span><span style="display:flex;"><span>sudo fail2ban-client status sshd
</span></span></code></pre></div><h2 id="-hardening-do-kernel-sysctl">üß† Hardening do Kernel (sysctl)</h2>
<p>Arquivo: <code>/etc/sysctl.d/99-hardening.conf</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Preven√ß√£o de ataques de rede</span>
</span></span><span style="display:flex;"><span>net.ipv4.tcp_syncookies <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>net.ipv4.conf.all.rp_filter <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>net.ipv4.icmp_echo_ignore_broadcasts <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Mitiga√ß√£o de exploits</span>
</span></span><span style="display:flex;"><span>kernel.kptr_restrict <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>kernel.unprivileged_bpf_disabled <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>kernel.dmesg_restrict <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>kernel.perf_event_paranoid <span style="color:#f92672">=</span> <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Preven√ß√£o de IP spoofing</span>
</span></span><span style="display:flex;"><span>net.ipv4.conf.all.log_martians <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>net.ipv4.conf.default.log_martians <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><h1 id="aplicar-configura√ß√µes">Aplicar configura√ß√µes</h1>
<pre tabindex="0"><code>sudo sysctl --system
</code></pre><h2 id="-seguran√ßa-de-usu√°rios-e-permiss√µes">üîê Seguran√ßa de Usu√°rios e Permiss√µes</h2>
<h3 id="1-pol√≠tica-de-senhas-pam">1. Pol√≠tica de Senhas (PAM)</h3>
<p>Arquivo: <code>/etc/security/pwquality.conf</code></p>
<pre tabindex="0"><code class="language-conf" data-lang="conf">minlen = 12
minclass = 4
maxrepeat = 3
dictcheck = 1
usercheck = 1
</code></pre><h3 id="2-restri√ß√µes-de-sudo-seguras">2. Restri√ß√µes de Sudo Seguras</h3>
<p>Arquivo: <code>/etc/sudoers.d/secure</code></p>
<pre tabindex="0"><code class="language-conf" data-lang="conf"># Boas pr√°ticas:
Defaults use_pty, timestamp_timeout=5, passwd_timeout=1
Defaults logfile=&#34;/var/log/sudo.log&#34;

# Exemplo seguro para grupo admin:
%admin ALL=(ALL:ALL) SETENV ALL
</code></pre><h3 id="3-controle-de-acesso">3. Controle de Acesso</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e"># Instalar depend√™ncias (RHEL)</span>
</span></span><span style="display:flex;"><span>sudo dnf install -y pam_script pam_access
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Configura√ß√£o PAM (/etc/security/access.conf)</span>
</span></span><span style="display:flex;"><span>-:ALL EXCEPT root admin <span style="color:#f92672">(</span>tty1<span style="color:#f92672">)</span>:ALL
</span></span></code></pre></div><h2 id="-automa√ß√£o-com-ansible">üöÄ Automa√ß√£o com Ansible</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Hardening B√°sico</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">all</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">become</span>: <span style="color:#66d9ef">true</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">tasks</span>:
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Instalar ferramentas de compliance</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">package</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">name</span>:
</span></span><span style="display:flex;"><span>          - <span style="color:#ae81ff">lynis</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#ae81ff">openscap-scanner</span>
</span></span><span style="display:flex;"><span>          - <span style="color:#ae81ff">scap-security-guide</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">state</span>: <span style="color:#ae81ff">latest</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Configurar hardening do kernel</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">copy</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">src</span>: <span style="color:#ae81ff">99</span>-<span style="color:#ae81ff">hardening.conf</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">dest</span>: <span style="color:#ae81ff">/etc/sysctl.d/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">mode</span>: <span style="color:#ae81ff">0600</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Aplicar configura√ß√µes sysctl</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">command</span>: <span style="color:#ae81ff">sysctl -p /etc/sysctl.d/99-hardening.conf</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    - <span style="color:#f92672">name</span>: <span style="color:#ae81ff">Configurar pol√≠tica de senhas</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">copy</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">src</span>: <span style="color:#ae81ff">pwquality.conf</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">dest</span>: <span style="color:#ae81ff">/etc/security/</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">mode</span>: <span style="color:#ae81ff">0644</span>
</span></span></code></pre></div><h2 id="-refer√™ncias-t√©cnicas">üìö Refer√™ncias T√©cnicas</h2>
<h3 id="documenta√ß√£o-oficial">Documenta√ß√£o Oficial</h3>
<ol>
<li>
<p><strong>National Institute of Standards and Technology (NIST)</strong><br>
<a href="https://nvlpubs.nist.gov/nistpubs/Legacy/SP/nistspecialpublication800-123.pdf">SP 800-123 - Guide to General Server Security</a><br>
Padr√µes oficiais para seguran√ßa de servidores</p>
</li>
<li>
<p><strong>CIS Benchmarks</strong><br>
<a href="https://www.cisecurity.org/benchmark/linux">Linux Benchmark v3.0.1</a><br>
Configura√ß√µes recomendadas para hardening</p>
</li>
<li>
<p><strong>Linux Kernel Security Documentation</strong><br>
<a href="https://www.kernel.org/doc/html/latest/security">https://www.kernel.org/doc/html/latest/security</a><br>
Prote√ß√µes de mem√≥ria e controle de acesso</p>
</li>
</ol>
<h3 id="ferramentas">Ferramentas</h3>
<ol start="4">
<li>
<p><strong>SELinux Official Docs</strong><br>
<a href="https://selinuxproject.org">https://selinuxproject.org</a><br>
Arquitetura e pol√≠ticas de seguran√ßa</p>
</li>
<li>
<p><strong>AppArmor Documentation</strong><br>
<a href="https://apparmor.net/documentation">https://apparmor.net/documentation</a><br>
Guia de perfis e implementa√ß√£o</p>
</li>
<li>
<p><strong>Lynis - Auditing Tool</strong><br>
<a href="https://cisofy.com/documentation/lynis">https://cisofy.com/documentation/lynis</a><br>
Manual completo de auditoria</p>
</li>
</ol>
<h3 id="estudos-e-padr√µes">Estudos e Padr√µes</h3>
<ol start="7">
<li>
<p><strong>IBM Security Report 2024</strong><br>
<a href="https://www.ibm.com/reports/data-breach">Cost of a Data Breach Report</a><br>
Estat√≠sticas sobre vulnerabilidades</p>
</li>
<li>
<p><strong>OpenSCAP Security Guide</strong><br>
<a href="https://www.open-scap.org/security-policies">https://www.open-scap.org/security-policies</a><br>
Pol√≠ticas CIS, STIG e PCI-DSS</p>
</li>
<li>
<p><strong>OWASP Linux Security Cheatsheet</strong><br>
<a href="https://cheatsheetseries.owasp.org/cheatsheets/Linux_Security_Cheat_Sheet.html">https://cheatsheetseries.owasp.org/cheatsheets/Linux_Security_Cheat_Sheet.html</a></p>
</li>
</ol>
<h3 id="livros-especializados">Livros Especializados</h3>
<ol start="10">
<li>
<p><strong>Linux Hardening in Hostile Networks</strong><br>
Scott McCarty (ISBN: 978-1-80056-177-2)<br>
Cap√≠tulos 4-7 sobre configura√ß√£o segura</p>
</li>
<li>
<p><strong>Practical Security for DevOps</strong><br>
Vincent Sesto (ISBN: 978-1-4842-7884-9)<br>
Automa√ß√£o de hardening em pipelines CI/CD</p>
</li>
</ol>
<h3 id="comunidade">Comunidade</h3>
<ol start="12">
<li>
<p><strong>Linux Hardening Project</strong><br>
<a href="https://github.com/linuxhardening-guide">https://github.com/linuxhardening-guide</a><br>
Configura√ß√µes comunit√°rias atualizadas</p>
</li>
<li>
<p><strong>Red Hat Security Guides</strong><br>
<a href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/security_hardening">https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/security_hardening</a></p>
</li>
</ol>
<h3 id="ferramentas-adicionais">Ferramentas Adicionais</h3>
<ol start="14">
<li>
<p><strong>Fail2Ban Documentation</strong><br>
<a href="https://fail2ban.org/wiki">https://fail2ban.org/wiki</a><br>
Configura√ß√£o de prote√ß√£o contra bruteforce</p>
</li>
<li>
<p><strong>Rkhunter User Guide</strong><br>
<a href="https://rkhunter.cvs.sourceforge.net">https://rkhunter.cvs.sourceforge.net</a><br>
Detec√ß√£o de rootkits e backdoors</p>
</li>
</ol>


                

                
                <hr>
                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/post/2025-01-23-Monitoramento-de-sistemas/" data-toggle="tooltip" data-placement="top" title="Monitoramento de Sistemas Linux: Comandos Essenciais">&larr;
                            Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/post/2025-07-07-Construa-Seu-GitHub-Pessoal-Offline-Git-Server-com-Criptografia-e-VPN-no-Linux/" data-toggle="tooltip" data-placement="top" title="Construa Seu GitHub Pessoal Offline: Git Server com Criptografia e VPN no Linux">Next
                            Post &rarr;</a>
                    </li>
                    
                </ul>
                

                




            </div>

            
            
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
            

            
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                
                

                
                
            </div>
        </div>
    </div>
</article>




<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    
                    
                    
                    

		            
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
                    
            
            
            
           
             </ul>
		<p class="copyright text-muted">
                    Copyright &copy; JPHS 2025
                    
                </p>
            </div>
        </div>
    </div>
</footer>




<script>
    function loadAsync(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>






<script>
    
    if($('#tag_cloud').length !== 0){
        loadAsync("/js/jquery.tagcloud.js",function(){
            $.fn.tagcloud.defaults = {
                
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>


<script>
    loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>






<script type="text/javascript">
    function generateCatalog(selector) {

        
        
        
        
            _containerSelector = 'div.post-container'
        

        
        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        
        $(selector).html('')

        
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow" title="' + t + '">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;
    }

    generateCatalog(".catalog-body");

    
    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    


    loadAsync("\/js\/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>






</body>
</html>
